<%namespace name='static' file='static_content.html'/>
<!DOCTYPE html>
<html>
## -----------------------------------------------------------------------------
## Template for courseware.views.quickedit
##
## Used for quick-edit link present when viewing capa-format assesment problems.
## -----------------------------------------------------------------------------
<head>
  <link rel="stylesheet" href="${static.url('js/jquery.treeview.css')}" type="text/css" media="all" />
##  <link rel="stylesheet" href="${ settings.LIB_URL }jquery.treeview.css" type="text/css" media="all" />
##  <link rel="stylesheet" href="/static/sass/application.css" type="text/css" media="all" / >

 <link rel="stylesheet" href="/static/css/codemirror.css" type="text/css" media="all" />

  <script type="text/javascript" src="${ settings.LIB_URL }jquery-1.6.2.min.js"></script>
  <script type="text/javascript" src="${ settings.LIB_URL }jquery-ui-1.8.16.custom.min.js"></script>
  <script type="text/javascript" src="${static.url('js/swfobject/swfobject.js')}"></script>
<script type="text/javascript" src="${ settings.LIB_URL }codemirror-compressed.js"></script>
  <script type="text/javascript" src="/static/js/schematic.js"></script>

  <script type="text/javascript" src="/static/coffee/src/courseware.js"></script>
  <script type="text/javascript" src="/static/coffee/src/feedback_form.js"></script>
  <script type="text/javascript" src="/static/coffee/src/calculator.js"></script>
  <script type="text/javascript" src="/static/coffee/src/main.js"></script>

<%block name="headextra"/>

  <!-- This must appear after all mathjax-config blocks, so it is after the imports from the other templates.
       It can't be run through static.url because MathJax uses crazy url introspection to do lazy loading of
       MathJax extension libraries -->
  <%include file="mathjax_include.html" />
## <script type="text/javascript" src="/static/js/mathjax-MathJax-c9db6ac/MathJax.js?config=TeX-AMS_HTML-full"></script>

</head>
<body>

  <!--[if lt IE 9]>
  <script src="/static/js/html5shiv.js"></script>
  <![endif]-->

<style type="text/css">
  .CodeMirror {border-style: solid;
              border-width: 1px;}
.CodeMirror-scroll {
 height: 500;
 width: 100%
}
</style>

## -----------------------------------------------------------------------------
## information and i4x PSL code

<hr width="100%">
<h2>QuickEdit</h2>
<hr width="100%">
<ul>
<li>File = ${filename}</li>
<li>ID = ${id}</li>
</ul>

<form method="post">
  <textarea rows="40" cols="160" name="quickedit_${id}" id="quickedit_${id}">${pxmls|h}</textarea>
<br/>
<input type="submit" value="Change Problem" name="qesubmit" />
<input type="submit" value="Revert to original" name="qesubmit" />
<input type="hidden" name="csrfmiddlewaretoken" value="${csrf}"/>
</form>

<span>${msg|n}</span>

## -----------------------------------------------------------------------------
## rendered problem display

<script>
//  height: auto;
//  overflow-y: hidden;
//  overflow-x: auto;
 
$(function(){
  var cm = CodeMirror.fromTextArea(document.getElementById("quickedit_${id}"), 
			{ 'mode': {name: "xml", alignCDATA: true},
                        lineNumbers: true
                        });

// $('.my-wymeditor').wymeditor();

});
</script>

<hr width="100%">

<script>
${init_js} 
</script>

<style type="text/css">
  .staff {display:none;}
  .correct {        display: -moz-inline-box;
        -moz-box-orient: vertical;
        display: inline-block;
        vertical-align: baseline;
        zoom: 1;
        *display: inline;
        *vertical-align: auto;
        background: url("/static/images/correct-icon.png") center center no-repeat;
        height: 20px;
        position: relative;
        top: 6px;
        width: 25px; }
  .incorrect{
        display: -moz-inline-box;
        -moz-box-orient: vertical;
        display: inline-block;
        vertical-align: baseline;
        zoom: 1;
        *display: inline;
        *vertical-align: auto;
        background: url("/static/images/incorrect-icon.png") center center no-repeat;
        height: 20px;
        width: 20px;
        position: relative;
        top: 6px; }

}
</style>

<div id="seq_content">
<form>
 ${phtml}
</form>
</div>

  <script type="text/javascript" src="${static.url('js/jquery.treeview.js')}"></script>
  <script type="text/javascript" src="${static.url('js/jquery.leanModal.min.js')}"></script>
  <script type="text/javascript" src="${static.url('js/jquery.qtip.min.js')}"></script>
  <script type="text/javascript" src="${static.url('js/jquery.cookie.js')}"></script>
  <script type="text/javascript" src="${static.url('js/video_player.js')}"></script>
  <script type="text/javascript" src="${static.url('js/schematic.js')}"></script>
  <script type="text/javascript" src="${static.url('js/cktsim.js')}"></script>

  <%block name="js_extra"/>

</body>
</html>
