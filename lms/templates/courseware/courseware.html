<%inherit file="/main.html" />
<%namespace name='static' file='/static_content.html'/>
<%block name="bodyclass">courseware ${course.css_class}</%block>
<%block name="title"><title>${course.number} Courseware</title></%block>

<%block name="headextra">
  <%static:css group='course'/>
  <%include file="../discussion/_js_head_dependencies.html" />
</%block>

<%block name="js_extra">
  <script type="text/javascript" src="${static.url('js/vendor/jquery.scrollTo-1.4.2-min.js')}"></script>
  <script type="text/javascript" src="${static.url('js/vendor/flot/jquery.flot.js')}"></script>
  <script type="text/javascript" src="${static.url('js/jquery.sequence.js')}"></script>

  ## codemirror
  <script type="text/javascript" src="${static.url('js/vendor/codemirror-compressed.js')}"></script>

  ## alternate codemirror
  ##  <script type="text/javascript" src="${static.url('js/vendor/CodeMirror-2.25/lib/codemirror.js')}"></script>
  ##  <script type="text/javascript" src="${static.url('js/vendor/CodeMirror-2.25/mode/xml/xml.js')}"></script>
  ##  <script type="text/javascript" src="${static.url('js/vendor/CodeMirror-2.25/mode/python/python.js')}"></script>


  <%static:js group='courseware'/>
  <%static:js group='discussion'/>

  <%include file="../discussion/_js_body_dependencies.html" />
  

  <!-- TODO: http://docs.jquery.com/Plugins/Validation -->
  <script type="text/javascript">
    document.write('\x3Cscript type="text/javascript" src="' +
        document.location.protocol + '//www.youtube.com/player_api">\x3C/script>');
  </script>

  <script type="text/javascript">
    var $$course_id = "${course.id}";

    $(function(){
        $(".ui-accordion-header a, .ui-accordion-content .subtitle").each(function() {
          var wordArray = $(this).text().split(" ");
          var finalTitle = "";
          if ($.isEmptyObject(wordArray)) {
            for (i=0;i<=wordArray.length-1;i++) {
              finalTitle += wordArray[i];
              if (i == (wordArray.length-2)) {
                finalTitle += "&nbsp;";
              } else {
                finalTitle += " ";
              }
            }
            $(this).html(finalTitle);
          }
        });
      });
  </script>
</%block>

<%include file="/courseware/course_navigation.html" args="active_page='courseware'" />

<section class="container">
  <div class="course-wrapper">
    <section aria-label="Course Navigation" class="course-index">
      <header id="open_close_accordion">
        <a href="#">close</a>
      </header>

      <div id="accordion" style="display: none">
        <nav>
          ${accordion}
        </nav>
      </div>
    </section>

    <section class="course-content">
      ${content}
    </section>
  </div>
</section>


% if course.show_calculator:
    <div class="calc-main">
        <a aria-label="Open Calculator" href="#" class="calc">Calculator</a>

        <div id="calculator_wrapper">
            <form id="calculator">
                <div class="input-wrapper">
                    <input type="text" id="calculator_input" />

                    <div class="help-wrapper">
                        <a href="#">Hints</a>
                        <dl class="help">
                            <dt>Suffixes:</dt>
                            <dd> %kMGTcmunp</dd>
                            <dt>Operations:</dt>
                            <dd>^ * / + - ()</dd>
                            <dt>Functions:</dt>
                            <dd>sin, cos, tan, sqrt, log10, log2, ln, arccos, arcsin, arctan, abs </dd>
                            <dt>Constants</dt>
                            <dd>e, pi</dd>

                            <!-- Students won't know what parallel means at this time.  Complex numbers aren't well tested in the courseware, so we would prefer to not expose them.  If you read the comments in the source, feel free to use them. If you run into a bug, please let us know. But we can't officially support them right now.

                            <dt>Unsupported:</dt> <dd>||, j </dd>  -->
                        </dl>
                    </div>
                </div>
                <input id="calculator_button" type="submit" value="="/>
                <input type="text" id="calculator_output"  readonly />
            </form>

        </div>
    </div>
% endif
