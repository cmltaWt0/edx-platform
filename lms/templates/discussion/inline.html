<%namespace name="renderer" file="thread.html"/>

<section class="discussion" _id="${discussion_id}">
  <div class="discussion-non-content">
    <div class="discussion-title-wrapper">
      <a class="discussion-title" href="javascript:void(0)">Discussion</a>
    </div>
    ${search_bar}
    <form class="new-post-form" _id="${discussion_id}">
      <input type="text" class="new-post-title" placeholder="Title"/>
      <textarea class="new-post-body"></textarea>
      <a class="discussion-new-post" href="javascript:void(0)">New Post</a>
        <div class="wmd-panel">
          <div id="wmd-button-bar"></div>
          <textarea class="wmd-input" id="wmd-input">
          </textarea>
          <div id="wmd-preview" class="wmd-panel wmd-preview"></div>
        </div>
    </form>
  </div>
  % for thread in threads:
    ${renderer.render_thread(course_id, thread, edit_thread=False, show_comments=False)}
  % endfor
</section>

<script type="text/javascript">
  var $$user_info = JSON.parse('${user_info}');
  var $$course_id = "${course_id}";
</script>
