<%namespace name="renderer" file="_content_renderer.html"/>

<section class="discussion forum-discussion" _id="${discussion_id}">

  <div class="discussion-non-content local">
    <div class="search-wrapper">
      <%include file="_search_bar.html" />
    </div>    
  </div>
  % if len(threads) == 0:
    <div class="blank">
      <%include file="_blank_slate.html" />
    </div>
    <div class="threads"></div>
  % else:
    <div class="local"><%include file="_sort.html" /></div>
    <div class="threads">
      % for thread in threads:
        ${renderer.render_content_with_comments(thread)}
      % endfor
    </div>
    <div class="local"><%include file="_paginator.html" /></div>
  % endif
</section>

<%include file="_js_data.html" />
