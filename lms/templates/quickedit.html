<%namespace name='static' file='static_content.html'/>
<!DOCTYPE html>
<html>
## -----------------------------------------------------------------------------
## Template for courseware.views.quickedit
##
## Used for quick-edit link present when viewing capa-format assesment problems.
## -----------------------------------------------------------------------------
<head>
  <link rel="stylesheet" href="${static.url('js/jquery.treeview.css')}" type="text/css" media="all" />
##  <link rel="stylesheet" href="${ settings.LIB_URL }jquery.treeview.css" type="text/css" media="all" />
##  <link rel="stylesheet" href="/static/sass/application.css" type="text/css" media="all" / >

% if settings.MITX_FEATURES['USE_DJANGO_PIPELINE']:
 <%static:css group='application'/>
% endif

% if not settings.MITX_FEATURES['USE_DJANGO_PIPELINE']:
##  <link rel="stylesheet" href="/static/sass/application.css" type="text/css" media="all" / >
% endif

  <script type="text/javascript" src="${static.url('js/jquery.min.js')}"></script>
  <script type="text/javascript" src="${static.url('js/jquery-ui.min.js')}"></script>
  <script type="text/javascript" src="${static.url('js/swfobject/swfobject.js')}"></script>

% if settings.MITX_FEATURES['USE_DJANGO_PIPELINE']:
 <%static:js group='application'/>
% endif

% if not settings.MITX_FEATURES['USE_DJANGO_PIPELINE']:
  % for jsfn in [ '/static/%s' % x.replace('.coffee','.js') for x in settings.PIPELINE_JS['application']['source_filenames'] ]:
    <script type="text/javascript" src="${jsfn}"></script>
  % endfor
% endif

## codemirror
  <link rel="stylesheet" href="/static/css/codemirror.css" type="text/css" media="all" />
  <script type="text/javascript" src="${ settings.LIB_URL }codemirror-compressed.js"></script>

## alternate codemirror
##  <script type="text/javascript" src="/static/js/CodeMirror-2.25/lib/codemirror.js"></script>
##  <script type="text/javascript" src="/static/js/CodeMirror-2.25/mode/xml/xml.js"></script>
##  <script type="text/javascript" src="/static/js/CodeMirror-2.25/mode/python/python.js"></script>

## image input: for clicking on images (see imageinput.html)
  <script type="text/javascript" src="/static/js/imageinput.js"></script>

##  <script type="text/javascript">
##    var codemirror_set = {};		// track all codemirror textareas, so they can be refreshed on page changes
##  </script>

  <!--[if lt IE 9]>
  <script src="${static.url('js/html5shiv.js')}"></script>
  <![endif]-->

<%block name="headextra"/>

  <!-- This must appear after all mathjax-config blocks, so it is after the imports from the other templates.
       It can't be run through static.url because MathJax uses crazy url introspection to do lazy loading of
       MathJax extension libraries -->
  <%include file="mathjax_include.html" />

</head>
<body class="courseware">


<style type="text/css">
  .CodeMirror {border-style: solid;
              border-width: 1px;}
.CodeMirror-scroll {
 height: 500;
 width: 100%
}
</style>

## -----------------------------------------------------------------------------
## information and i4x PSL code

<hr width="100%">
<h2>QuickEdit</h2>
<hr width="100%">
<ul>
<li>File = ${filename}</li>
<li>ID = ${id}</li>
</ul>

<form method="post">
  <textarea rows="40" cols="160" name="quickedit_${id}" id="quickedit_${id}">${pxmls|h}</textarea>
<br/>
<input type="submit" value="Change Problem" name="qesubmit" />
<input type="submit" value="Revert to original" name="qesubmit" />
<input type="hidden" name="csrfmiddlewaretoken" value="${csrf}"/>
</form>

<span>${msg|n}</span>

## -----------------------------------------------------------------------------
## rendered problem display

<script>
//  height: auto;
//  overflow-y: hidden;
//  overflow-x: auto;
 
$(function(){
  var cm = CodeMirror.fromTextArea(document.getElementById("quickedit_${id}"), 
			{ 'mode': {name: "xml", alignCDATA: true},
                        lineNumbers: true
                        });

// $('.my-wymeditor').wymeditor();

});
</script>

<hr width="100%">

<script>
${init_js} 
</script>

<style type="text/css">
  .staff {display:none;}
  .correct {        display: -moz-inline-box;
        -moz-box-orient: vertical;
        display: inline-block;
        vertical-align: baseline;
        zoom: 1;
        *display: inline;
        *vertical-align: auto;
        background: url("/static/images/correct-icon.png") center center no-repeat;
        height: 20px;
        position: relative;
        top: 6px;
        width: 25px; }
  .incorrect{
        display: -moz-inline-box;
        -moz-box-orient: vertical;
        display: inline-block;
        vertical-align: baseline;
        zoom: 1;
        *display: inline;
        *vertical-align: auto;
        background: url("/static/images/incorrect-icon.png") center center no-repeat;
        height: 20px;
        width: 20px;
        position: relative;
        top: 6px; }

}
</style>

<meta name="path_prefix" content="${MITX_ROOT_URL}">

<section class="course-content">
 <div id="seq_content">
  <form>
   ${phtml}
  </form>
 </div>
</section>

  <script type="text/javascript" src="${static.url('js/jquery.treeview.js')}"></script>
  <script type="text/javascript" src="${static.url('js/jquery.leanModal.min.js')}"></script>
  <script type="text/javascript" src="${static.url('js/jquery.qtip.min.js')}"></script>
  <script type="text/javascript" src="${static.url('js/jquery.cookie.js')}"></script>
##  <script type="text/javascript" src="${static.url('js/video_player.js')}"></script>
  <script type="text/javascript" src="${static.url('js/schematic.js')}"></script>
  <script type="text/javascript" src="${static.url('js/cktsim.js')}"></script>

  <script type="text/javascript" >
    var codemirror_set= {};                // associative array of codemirror objects 
  </script>

  <script type="text/javascript" src="${static.url('js/jquery.scrollTo-1.4.2-min.js')}"></script>

  <%block name="js_extra"/>

</body>
</html>
