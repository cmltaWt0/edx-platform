<%inherit file="base.html" />
<%! from django.core.urlresolvers import reverse %>
<%block name="title">CMS Courseware Overview</%block>

<%block name="content">
  <div class="main-wrapper">
    <div class="inner-wrapper">
      <h1>Courseware</h1>
      <input type="text" class="courseware-unit-search-input search" placeholder="search units" />
      <article class="courseware-overview">
        <a href="#" class="new-courseware-section-button"><span class="plus-icon"></span> New Section</a>
        % for section in sections:
        <section class="courseware-section branch">
          <header>
            <a href="#" class="expand-collapse-icon collapse"></a>
            <div class="item-details">
              <h3>${section.display_name}</h3>
              <h4><strong>Unscheduled:</strong> <a href="#">click here to set</a></h4>
            </div>
            <div class="item-actions">
              <a href="#" class="edit-button"><span class="delete-icon"></span></a>
              <a href="#" class="drag-handle"></a>
            </div>
          </header>
          <ol>
            % for subsection in section.get_children():
            <li class="branch collapsed">
              <div class="section-item">
                <a href="#" class="expand-collapse-icon expand"></a>
                <a href="#" class="draft-item">
                  <span class="${subsection.category}-icon"></span>${subsection.display_name} <span class="draft-tag">– draft</span>
                </a>
                <div class="item-actions">
                  <a href="#" class="edit-button"><span class="edit-icon"></span></a>
                  <a href="#" class="edit-button"><span class="delete-icon"></span></a>
                  <a href="#" class="drag-handle"></a>
                </div>
              </div>

              <ol>
                % for unit in subsection.get_children():
                <li class="branch collapsed">
                  <div class="section-item">
                    <a href="#" class="draft-item">
                      <span class="${unit.category}-icon"></span>${unit.display_name} <span class="draft-tag">– draft</span>
                    </a>
                    <div class="item-actions">
                      <a href="${reverse('edit_unit', args=[unit.location])}" class="edit-button"><span class="edit-icon"></span></a>
                      <a href="${reverse('delete_unit', args=[unit.location])}" class="edit-button"><span class="delete-icon"></span></a>
                      <a href="#" class="drag-handle"></a>
                    </div>
                  </div>
                </li>
                % endfor
                <li>
                  <a href="#" class="section-item new-unit-item">
                    <span class="plus-icon"></span>New Unit
                  </a>
                </li>
              </ol>
            </li>
            % endfor

            <li>
              <a href="#" class="section-item new-subsection-item">
                <span class="plus-icon"></span>New Subsection
              </a>
            </li>
          </ol>
        </section>
        % endfor
      </article>
    </div>
    <%include file="widgets/upload_assets.html"/>
  </div>
  <footer></footer>
</%block>
